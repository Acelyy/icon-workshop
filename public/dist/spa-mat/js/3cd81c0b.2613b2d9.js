(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3cd81c0b"],{"34c1":function(t,e,s){"use strict";var i=s("6a60"),n=s.n(i);n.a},"3c1e":function(t,e,s){},"6a60":function(t,e,s){},a146:function(t,e,s){"use strict";var i=s("ca9a"),n=s.n(i);n.a},b1e5:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex flex-center splash-page-index",nativeOn:{click:function(e){return t.reset(e)}}},[s("VuePerfectScrollbar",{ref:"scrollbar"},[s("div",{staticClass:"center-container",style:t.containerStyle},[s("DeviceBox")],1)])],1)},n=[];i._withStripped=!0;var c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.scene?s("div",{staticClass:"splash-device-box",style:t.deviceBoxStyle},[t._l(t.images,function(e){return s("DeviceObject",{key:e.id,attrs:{object:e},nativeOn:{click:function(s){s.stopPropagation(),t.select(e)}}})}),s("div",{staticClass:"device-border",style:t.deviceBorderStyle})],2):t._e()},o=[];c._withStripped=!0;var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"device-object",class:t.objectClass,style:t.objectStyle,on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.onMouseDown(e)},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t.onMouseUp(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t.onMouseMove(e)}}},[s("img",{attrs:{src:t.object.url,alt:""}})])},r=[];a._withStripped=!0;var l={computed:{splash:function(){return this.$store.state.Splash},scene:function(){return this.$store.state.Splash.scene},baseScale:function(){var t=this.splash.width,e=this.splash.height,s=Math.min(t,e),i=s/375,n=t/e;return n>=1?i*=.625:n>=.75?i*=.75:n>=.66&&(i*=.875),i}}},h=s("69d9"),u={name:"DeviceObject",mixins:[l,Object(h["a"])("splash-reset-current-object","onMouseUp")],props:{object:{type:Object,required:!0}},data:function(){return{dragFrom:null}},computed:{objectClass:function(){var t=[];return this.selected&&t.push(this.object.id===this.selected.id?"active":"inactive"),this.splash.draggingObject&&this.splash.draggingObject!==this.object.id&&t.push("no-interact"),t},objectStyle:function(){var t=this.object.scale*this.baseScale;return{left:"".concat(this.object.left,"%"),top:"".concat(this.object.top,"%"),transform:"translate(-50%, -50%) scale(".concat(t,")")}},selected:function(){return this.$store.state.Splash.object}},methods:{onMouseDown:function(t){this.dragFrom=t,this.$store.commit("Splash/update",{draggingObject:this.object.id})},onMouseUp:function(){this.dragFrom=null,this.$store.commit("Splash/update",{draggingObject:null})},onMouseMove:function(t){if(this.dragFrom){var e=this.splash.width*this.baseScale*this.splash.scale,s=this.splash.height*this.baseScale*this.splash.scale,i=(t.pageX-this.dragFrom.pageX)/e*100,n=(t.pageY-this.dragFrom.pageY)/s*100,c=Math.round(this.object.left+i),o=Math.round(this.object.top+n);if(c=Math.max(Math.min(c,100),0),o=Math.max(Math.min(o,100),0),c===this.object.left&&o===this.object.top)return;var a={id:this.object.id,left:c,top:o};this.$store.commit("Splash/updateObject",a),this.dragFrom=t}}}},p=u,d=(s("34c1"),s("2877")),f=Object(d["a"])(p,a,r,!1,null,null,null);f.options.__file="DeviceObject.vue";var b=f.exports,m={name:"DeviceBox",components:{DeviceObject:b},mixins:[l],computed:{deviceBoxStyle:function(){return{width:"".concat(this.splash.width,"px"),height:"".concat(this.splash.height,"px"),background:this.scene.backgroundColor,transform:"scale(".concat(this.splash.scale,")")}},deviceBorderStyle:function(){return{width:"".concat(this.splash.width,"px"),height:"".concat(this.splash.height,"px")}},images:function(){return this.scene.objects.filter(function(t){return"Image"===t.proto})},strings:function(){return this.scene.objects.filter(function(t){return"String"===t.proto})}},methods:{select:function(t){this.$store.commit("Splash/setCurrentObject",t)}}},v=m,g=(s("a146"),Object(d["a"])(v,c,o,!1,null,null,null));g.options.__file="DeviceBox.vue";var j=g.exports,S=s("9d63"),x=s.n(S),w=s("2ef0"),$=s.n(w),y=50,O={name:"SplashPageIndex",components:{DeviceBox:j,VuePerfectScrollbar:x.a},computed:{splash:function(){return this.$store.state.Splash},containerStyle:function(){return{minWidth:"".concat(this.splash.width+2*y,"px"),minHeight:"".concat(this.splash.height+2*y,"px")}}},watch:{"splash.width":function(){this.resetLayout()},"splash.height":function(){this.resetLayout()}},methods:{reset:function(){this.$store.commit("Splash/setCurrentObject",null),this.$root.$emit("splash-reset-current-object")},resetLayout:function(){var t=this;this.$nextTick(function(){t.resetScrollbar(),t.scaleDeviceContainer()})},resetScrollbar:function(){var t=this.$refs.scrollbar;if(t&&t.$el){var e=t.$el;e.scrollLeft=(e.scrollWidth-e.clientWidth)/2,e.scrollTop=(e.scrollHeight-e.clientHeight)/2}},scaleDeviceContainer:function(){if(this.splash.autoScale){var t=this.$el.querySelector(".ps-container"),e=t.clientWidth/(this.splash.width+2*y),s=t.clientHeight/(this.splash.height+2*y),i=$.a.round(Math.min(e,s,1),2);i<=0&&(i=1),this.$store.commit("Splash/update",{scale:i})}}},mounted:function(){this.resetLayout()}},M=O,_=(s("f46c"),Object(d["a"])(M,i,n,!1,null,null,null));_.options.__file="Index.vue";e["default"]=_.exports},ca9a:function(t,e,s){},f46c:function(t,e,s){"use strict";var i=s("3c1e"),n=s.n(i);n.a}}]);